<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <title>Lời kết</title>
    <style>
      body {
        margin: 0;
        height: 100vh;
        background: linear-gradient(to bottom, #ff9dbb, #ffffff);
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        font-family: "Comic Sans MS", cursive, sans-serif;
        overflow: hidden;
        position: relative;
      }

      .scroll-text {
        font-size: 2em;
        font-style: italic;
        text-align: center;
        max-width: 80%;
        line-height: 1.8;
      }

      .pink-text {
        color: #e75480;
        text-shadow: 0 0 10px #fff, 0 0 20px #ff69b4;
      }

      .black-text {
        color: #111;
      }

      .letter {
        display: inline-block;
        opacity: 0;
        transform: scale(0.5);
        animation: popIn 0.6s forwards;
        white-space: pre; /* giữ nguyên space */
      }

      @keyframes popIn {
        0% {
          opacity: 0;
          transform: scale(0.5);
        }
        60% {
          opacity: 1;
          transform: scale(1.3);
        }
        100% {
          opacity: 1;
          transform: scale(1);
        }
      }

      .bubble {
        position: absolute;
        border-radius: 50%;
        background: rgba(255, 105, 180, 0.9);
        animation: explode 0.8s forwards;
        pointer-events: none;
      }

      @keyframes explode {
        0% {
          transform: scale(0.2);
          opacity: 1;
        }
        100% {
          transform: scale(1.5);
          opacity: 0;
        }
      }

      .decor-img {
        position: absolute;
        width: 100px;
        height: 100px;
        border-radius: 50%;
        object-fit: cover;
        box-shadow: 0 0 15px rgba(0, 0, 0, 0.3);
      }
      .decor-img.left {
        top: 20px;
        left: 20px;
      }
      .decor-img.right {
        bottom: 20px;
        right: 20px;
      }
    </style>
  </head>
  <body>
    <div class="scroll-text" id="message"></div>

    <img src="image/hoa.jpg" class="decor-img left" alt="Ảnh 1" />
    <img src="image/hoa2.jpg" class="decor-img right" alt="Ảnh 2" />

    <script>
      const text1 =
        "Chúc bạn tuổi mới thật nhiều bình an, đủ mạnh mẽ để vượt qua thử thách, đủ dịu dàng để tận hưởng hạnh phúc.";
      const text2 =
        "Bạn hông được lãng mạn lắm nên chỉ được zậy thoai heee. Của em hết 1688 dòng code. Em mún thanh toán tiền mặt hay chuyển khoản ib anh nhe :))";

      const container = document.getElementById("message");

      function renderText(text, cssClass, startDelay = 0) {
        const div = document.createElement("div");
        div.classList.add(cssClass);
        container.appendChild(div);

        // split cả space
        text.split("").forEach((char, i) => {
          const span = document.createElement("span");
          span.textContent = char;
          span.classList.add("letter");
          span.style.animationDelay = `${startDelay + i * 0.03}s`;
          div.appendChild(span);

          span.addEventListener("animationstart", () => {
            if (char.trim() !== "") {
              const bubble = document.createElement("div");
              bubble.classList.add("bubble");
              const rect = span.getBoundingClientRect();
              bubble.style.width = "12px";
              bubble.style.height = "12px";
              bubble.style.left = rect.left + rect.width / 2 + "px";
              bubble.style.top = rect.top + "px";
              document.body.appendChild(bubble);
              setTimeout(() => bubble.remove(), 900);
            }
          });
        });
      }

      renderText(text1, "pink-text", 0);

      // render text2 sau 5 giây
      setTimeout(() => {
        renderText(text2, "black-text", 0);
      }, 5000);
    </script>
  </body>
</html>
